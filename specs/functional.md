# Project Chimera: Functional Specification

## 1. User Stories (Agentic Journeys)

### 1.1 Trend Perception (Planner)
- **As a Planner Agent**, I need to fetch real-time trend data from MCP-connected sources (Twitter, News, On-chain data) so that I can identify "Alpha" content opportunities.
- **As a Planner Agent**, I need to decompose high-level campaign goals into atomic tasks (Research, Content, Transaction) for the Worker agents.

### 1.2 Content Synthesis (Worker)
- **As a Worker Agent**, I need to pull tasks from the Redis queue and generate content that matches the **SOUL.md** identity.
- **As a Worker Agent**, I need to call the `skill_wallet_manager` to check if I have enough balance for a sponsored post or transaction.

### 1.3 Governance & Safety (Judge)
- **As a Judge Agent**, I need to review Worker outputs against the **Linguistic DNA** and **Safety Rules** before they are published.
- **As a Judge Agent**, I need to enforce **Optimistic Concurrency Control (OCC)** when writing state to the master database to prevent race conditions.

### 1.4 Human-in-the-Loop (HITL)
- **As a Super-Orchestrator**, I need to receive an escalation alert if the Judge rejects an output 3 consecutive times, allowing me to manually intervene.

## 2. Core Functional Requirements (FR)
- **FR-001**: The system SHALL poll MCP Mentions every 10 minutes.
- **FR-002**: The system SHALL maintain a DAG of tasks to ensure correct execution order (Research before Generation).
- **FR-003**: All content generated MUST be logged with a "Generated By AI" metadata tag.
- **FR-004**: The system SHALL support multi-platform publishing (MoltBook, OpenClaw, X).
